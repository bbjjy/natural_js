<article class="demo_communicator">
	<div class="demoBox">
		<h4>1) Get json data from server(html/apid/data/grid.json)</h4>

		<div class="btnBox" align="center">
			<a id="btnGetJson" href="#" data-opts='{ "color" : "gray", "size": "large" }'>Submit</a>
		</div>

		<p lang="ko_KR" class="smallContTit">결과 : </p>
		<p lang="en_US" class="smallContTit">Result : </p>
		<pre style="height: 100px;overflow: auto;" class="result"><code id="jsonResult"></code></pre>

		<br />
		<h4>2) Get html page from server</h4>

		<p lang="ko_KR" class="smallContTit">기본 옵션 : </p>
		<p lang="en_US" class="smallContTit">Default options : </p>
		<table class="form">
			<tr>
				<th width="10%" align="right">context</th>
				<td width="40%"><input id="context" type="text" value="div.result" readonly="readonly" /> Target context</td>
				<th width="10%" align="right">url</th>
				<td width="40%"><input id="url" type="text" value="html/apid/datepicker.html" /> Target url</td>
			</tr>
			<tr>
				<th>async</th>
				<td><input id="async" type="checkbox" checked="checked" /> If this checkbox with uncheck(false), ajax request with synchronization method</td>
				<th>type</th>
				<td><input id="type" type="text" value="GET" readonly="readonly" /> Request method<br>* This value can not change because this site(github.io) is not allow POST request</td>
			</tr>
			<tr>
				<th>dataType</th>
				<td colspan="3"><input id="dataType" type="text" value="html" readonly="readonly" /> Response data type<br></td>
			</tr>
		</table>

		<p lang="ko_KR" class="smallContTit">함수 옵션 : </p>
		<p lang="en_US" class="smallContTit">Method options : </p>
		<table class="form">
			<tr>
				<th width="10%">submit</th>
				<th width="10%">arguments[0]</th>
				<td width="80%"><textarea id="jsonCallback" style="height: 45px;">function(data) {
	N("#jsonResult", view).text(JSON.stringify(data));
}</textarea><br /> Success callback function</td>
			</tr>
			<tr>
				<th width="10%">request</th>
				<th width="10%">arguments[0]</th>
				<td width="80%"><textarea id="request" style="height: 15px;">Hello datepicker~!</textarea><br /> Request attribute</td>
			</tr>
		</table>

		<div class="btnBox" align="center">
			<a id="btnGetPage" href="#" data-opts='{ "color" : "gray", "size": "large" }'>Submit</a>
		</div>

		<p lang="ko_KR" class="smallContTit">결과 : </p>
		<p lang="en_US" class="smallContTit">Result : </p>
		<div class="result" style="min-height: 400px;"></div>
	</div>
</article>

<script type="text/javascript">
	N(".demo_communicator").cont({
	    init : function(view, request) {
	    	// initialize buttons in div.btnBox
	    	N("div.btnBox a", view).button();

	    	// bind events
	    	this.setEvents(view, this);
	    },
	    setEvents : function(view, cont) {
	    	N("#btnGetJson", view).click(function(e) {
	            e.preventDefault();
	            N.comm({
	        		url : "html/apid/data/grid.json"
	        	}).submit(N.browser.msieVersion() !== 8 ? eval("(" + N("textarea#jsonCallback", view).val() + ")") : function(data) {
	        		N("#jsonResult", view).text(JSON.stringify(data));
	        	});
	        });

	    	N("#btnGetPage", view).click(function(e) {
	            e.preventDefault();
	            var opts = {
	            	url : N("input#url", view).val(),
	            	async : N("input#async", view).is(":checked"),
	            	type : N("input#type", view).val(),
	            	dataType : N("input#dataType", view).val()
	            }
	            N(N("#context", view).val(), view).comm(opts).request.attr("hello", N("textarea#request", view).val()).submit();
	            N("#btnGetPage", view).instance("button").disable();
	        });
	    }
	});
</script>